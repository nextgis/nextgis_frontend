<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Toggle button</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    html,
    body,
    #map {
      width: 100%;
      height: 100%;
    }

    .toggle-button--on {
      background-color: green !important;
    }

    .toggle-button--off {
      background-color: red !important;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/2.6.9/core.min.js"></script>
  <!-- <script src="https://unpkg.com/@nextgis/ngw-mapbox"></script> -->
  <script src="../../lib/ngw-mapbox.js"></script>
</head>

<body>
  <div id='map'></div>
  <script>
    var ngwMap = new NgwMap({
      baseUrl: 'https://demo.nextgis.com',
      target: 'map',
      qmsId: 487,
      webmapId: [146, 'webmap']
    });

    ngwMap.onLoad().then(function () {
      var toggleControl = ngwMap.createToggleControl({

        getStatus: function () {
          return ngwMap.isLayerVisible('webmap')
        },

        onClick: function (status) {
          ngwMap.toggleLayer('webmap', status);
        },

        html: {
          on: 'ON',
          off: 'OFF'
        },

        // html: 'W'

        // html: {
        //   on: '<span style="color:green;">ON</span>',
        //   off: '<span style="color: red">OFF</span>'
        // },

        title: {
          on: 'Turn webmap off',
          off: 'Turn webmap on'
        },

        // title: 'Toggle webmap visibility'

        addClassOn: 'toggle-button--on',
        addClassOff: 'toggle-button--off'
      });

      ngwMap.addControl(toggleControl, 'top-right');
    });
  </script>
</body>

</html>
